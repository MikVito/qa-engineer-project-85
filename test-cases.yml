- summary: |
    Проверка на регистрацию пользователя на сайте
  requirement: |
    Пользователь должен иметь возможность зарегистрироваться на сайте
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта главная страница сайта URL https://codebattle.hexlet.io/
  test-data: |
    Nickname = John_Johnson 
    Email = johnjohnson@hotmail.com 
    Password = badjonh@0011
    Password Confirmation = badjonh@0011
  steps:
    - Нажать на кнопку "Sign up"
    - "Должна появиться форма регистрации с полями: Nickname, Email, Password, Password Confirmation"
    - Вводим Nickname
    - Вводим Email
    - Вводим Password
    - Вводим Password Confirmation
    - Нажимаем кнопку Submit
  expected-result: |
    Пользователь должен успешно зарегистрироваться и быть перенаправлен в личный кабинет
    Имя пользователя отображается в правом верхнем углу

- summary: |
    Проверка на аутентификацию пользователя на сайте
  requirement: |
    Пользователь должен иметь возможность войти в аккаунт с корректными данными
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта главная страница сайта URL https://codebattle.hexlet.io/
    Зарегистрированный пользователь с email = johnjohnson@hotmail.com  и паролем = badjonh@0011
  test-data: |
    Email = johnjohnson@hotmail.com
    Password = badjonh@0011
  steps:
    - Нажать на кнопку "Sign in"
    - "Должна появиться форма входа с полями: Email, Password"
    - Ввести email
    - Ввести password
    - Нажать кнопку "Submit"
  expected-result: |
    Пользователь попадает в личный кабинет
    В правом верхнем углу отображается имя пользователя

- summary: |
    Проверка на авторизацию пользователя на сайте
  requirement: |
    Авторизированный пользователь должен иметь доступ к созданию игры
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Пользователь успешно вошёл в аккаунт
    Открыта главная страница сайта URL https://codebattle.hexlet.io/
  test-data: |
    empty
  steps:
    - Нажать на кнопку "Create game"
  expected-result: |
   Открывается форма создания игры с выбором параметров

- summary: |
    Проверка ошибки при вводе неправильного пароля
  requirement: |
    При вводе неправильных данных должна отображаться ошибка
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Зарегистрированный пользователь с email = johnjohnson@hotmail.com
    Открыта главная страница сайта URL https://codebattle.hexlet.io/
  test-data: |
    Email = johnjohnson@hotmail.com
    Password = wrongpass
  steps:
    - Нажать "Sign in"
    - Ввести email
    - Ввести неверный пароль
    - Нажать кнопку "Submit"
  expected-result: |
    Появляется сообщение об ошибке "Invalid password"
    Пользователь не входит в систему

- summary: |
    Проверка восстановления пароля через "Forgot your password?"
  requirement: |
    Пользователь должен иметь возможность восстановить пароль при его утрате
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта форма входа "Sign in" URL - https://codebattle.hexlet.io/session/new
  test-data: |
    Email = johnjohnson@hotmail.com
  steps:
    - Нажать на ссылку "Forgot your password?"
    - Ввести зарегистрированный email
    - Нажать кнопку восстановления пароля "Submit"
    - Перейти на почтовый ящик
    - Открыть письмо
    - Ввести новый пароль
  expected-result: |
    Пользователь получает письмо со ссылкой на восстановление
    Пароль успешно меняется
    Пользователь может войти с новым паролем

- summary: |
    Проверка ошибки при вводе неправильного электронного адреса
  requirement: |
    При вводе неправильных данных должна отображаться ошибка
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Зарегистрированный пользователь с email = johnjohnson@hotmail.com
    Открыта главная страница сайта URL https://codebattle.hexlet.io/
  test-data: |
    Email = nobody@hotmail.com
    Password = badjonh@0011
  steps:
    - Нажать "Sign in"
    - Ввести неверный email
    - Ввести пароль
    - Нажать кнопку "Submit"
  expected-result: |
    Появляется сообщение об ошибке "Email not found"
    Пользователь не входит в систему

- summary: |
    Проверка ошибки при попытке регистрации с уже существующим email
  requirement: |
    При регистрации с уже существующим email должна отображаться ошибка (functional)
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта форма регистрации "Sign up" URL - https://codebattle.hexlet.io/users/new
    Зарегистрированный пользователь с email = johnjohnson@hotmail.com
  test-data: |
    Nickname = FakeName
    Email = johnjohnson@hotmail.com
    Password = anypassword123%
    Password Confirmation = anypassword123%
  steps:
    - Открыть страницу регистрации
    - Ввести уже зарегистрированный email
    - Заполнить остальные поля корректными данными
    - Нажать "Submit"
  expected-result: |
    Отображается сообщение об ошибке "Email already taken"
    Регистрация не происходит

- summary: |
    Проверка невозможности входа с пустыми полями
  requirement: |
    Форма входа не должна приниматься с пустыми полями
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта главная страница сайта URL https://codebattle.hexlet.io/
  test-data: |
    Email = ""
    Password = ""
  steps:
    - Нажать "Sign in"
    - Не заполняя поля, нажать "Submit"
  expected-result: |
    Отображается валидационное сообщение "Email required", "Password required"
    Пользователь не входит в систему

- summary: |
    Проверка на успешный вход пользователя через профиль GitHub
  requirement: |
    Пользователь должен иметь возможность авторизоваться через GitHub
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Пользователь имеет аккаунт на GitHub
    Открыта главная страница https://codebattle.hexlet.io/
  test-data: |
    empty
  steps:
    - Нажать на кнопку "Sign in"
    - Нажать на кнопку "Sign in with GitHub"
    - Ввести данные GitHub и подтвердить вход
  expected-result: |
    Пользователь попадает в личный кабинет
    Eго GitHub-имя отображается в правом верхнем углу

- summary: |
    Проверка на успешный вход пользователя через профиль Discord
  requirement: |
    Пользователь должен иметь возможность авторизации с помощью профиля Discord
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Пользователь имеет аккаунт на GitHub
    Открыта главная страница https://codebattle.hexlet.io/
  test-data: |
    empty
  steps:
    - Нажать кнопку "Sign in"
    - Нажать кнопку "Sign in with Discord"
    - Ввести данные GitHub и подтвердить вход
    - Нажать "Авторизировать"
  expected-result: |
    Пользователь попадает в личный кабинет
    Пользователь успешно авторизован и его Discord-имя отображается в правом верхнем углу
    
- summary: |
    Проверка выхода из аккаунта пользователя
  requirement: |
    Пользователь должен иметь возможность выйти из своего аккаунта
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Пользователь авторизован
    Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
    empty
  steps:
    - Нажать на никнейм пользователя в шапке сайта
    - В открывшемся окне меню выбрать "Sign out"
  expected-result: |
    Пользователь выходит из аккаунта
    Перенаправляется на страницу входа или главную страницу без авторизации

- summary: |
    Проверка, что неавторизованный пользователь может начать тестовую игру без регистрации
  requirement: |
    Не зарегистрированные пользователи должны иметь возможность тестовой игры без регистрации
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Пользователь не авторизован и не зарегистрирован
  test-data: |
    empty
  steps:
    - Перейти на сайт как гость
    - Найти кнопку "Try simple battle"
    - Нажать на кнопку
  expected-result: |
    Открывается интерфейс игры
    Начинается матч с ботом

- summary: |
    Проверка наличия личного профиля пользователя после авторизации
  requirement: |
    На платформе должен быть реализован личный профиль пользователя
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован и зарегистрирован
  test-data: |
    empty
  steps:
    - Авторизоваться на платформе
    - Найти в шапке сайта никнейм пользователя
    - Нажать на никнейм и открыть меню профиля
    - Кликнуть на пункт "My profile"
    - Проверить наличие открывшейся страницы профиля
  expected-result: |
    Открывается страница личного профиля пользователя с отображением основной информации (никнейм, рейтинг, статистика игр)

- summary: |
    Проверка отображения рейтинга пользователя в личном профиле
  requirement: |
    На платформе должен быть реализован механизм расчёта и отображения рейтинга пользователей
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован и зарегистрирован
  test-data: |
    empty
  steps:
    - Перейти в личный профиль пользователя
    - Проверить наличие поля с отображением рейтинга (числовое значение)
  expected-result: |
    В профиле отображается корректное значение рейтинга пользователя

- summary: |
    Проверка корректного изменения ранга пользователя после завершения матчей
  requirement: |
    На платформе должен быть реализован механизм расчёта и отображения рейтинга пользователей
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован и зарегистрирован
    Доступен матч для участия
  test-data: |
    empty
  steps:
    - Завершить матч победой
    - Перейти в личный профиль
    - Проверить, что ранг увеличился на 20 очков
    - Завершить матч поражением
    - Перейти в личный профиль
    - Проверить, что ранг уменьшился на 20 очков
  expected-result: |
    После завершения матча ранг пользователя корректно повышается в случае победы в игре
    После завершения матча ранг пользователя корректно понижается в случае проигрыша в игре

- summary: |
    Проверка, что сразу после регистрации рейтинг и победы пользователя равны нулю
  requirement: |
    При регистрации пользователь должен начинать с нулевого рейтинга и без побед
  prerequisites: |
    Пользователь зарегистрирован и авторизован
    Пользователь не участвовал ни в одном матче (0 игр)
    Открыта главная страница сайта URL https://codebattle.hexlet.io/
  test-data: |
    empty
  steps:
    - После входа проверить главную страницу
    - Кликаем на никнейм в шапке профиля
    - В выплывающем окне меню опций, кликаем на "My profile"
  expected-result: |
    Ранг (rank) = 0
    Рейтинг (elo_rating) = 0
    Число проведенных игр (games_played) = 0
    Нет предустановленных или случайных значений рейтинга/ранга/игр

- summary: |
    Проверка возможности выбора и смены языка программирования во время матча
  requirement: |
    Пользователь должен иметь возможность выбрать и изменить язык программирования в процессе игры
  prerequisites: |
    Открыта главная страница сайта URL https://codebattle.hexlet.io/
    Пользователь зарегистрирован и авторизован
  test-data: |
    Доступные языки: 
    Clojure, C++, C#, Dart, Elixir, Golang, Haskell, Java, Node.js, Python, Ruby, Rust, Typescript
  steps:
    - Нажать "Create a Game"
    - В открывшемся окне выбрать уровень сложности (Level) = 1
    - Выбрать тип игры (Game Type) - With a bot
    - Time control - 8 min
    - Задачу игры (Choose task by name or tags) - random task
    - Нажать "Create battle"
    - Создать игру и дождаться начала матча
    - Убедиться, что редактор кода использует выбранный язык (подсветка синтаксиса, шаблон)
    - Нажать на выпадающий список языка (вверху редактора)
    - Выбрать другой язык (например, JavaScript)
    - Убедиться, что редактор обновил шаблон и синтаксис под новый язык
    - Повторить со всеми языками из списка
  expected-result: |
    Пользователь может выбрать язык до начала игры
    Во время матча язык можно изменить с помощью выпадающего списка
    Изменения применяются сразу: шаблон, синтаксис, автоподстановка
    Никаких ошибок или перезагрузок страницы не происходит

- summary: |
    Проверка возможности смены языка интерфейса RU/EN во время матча
  requirement: |
    Пользователь должен иметь возможность сменить язык во время матча на "Русский (RU)" или "Английский (EN)"
  prerequisites: |
    Пользователь зарегистрирован и авторизован
    Открыта главная страница сайта URL https://codebattle.hexlet.io/
    Создан новый матч "Create a Game"
  test-data: |
    empty
  steps:
    - Перейти к верхнему левому окну с инофрмацией задания
    - Убедиться, что язык интерфейса по умолчанию — русский (RU)
    - Нажать на выпадающий список языка (RU)
    - Выбрать пункт "EN"
    - Убедиться, что язык интерфейса задачи изменился на английский ()
    - Повторно открыть выпадающий список и выбрать "RU"
    - Убедиться, что язык интерфейса задачи снова переключился на русский
  expected-result: |
    При переключении языка интерфейс мгновенно меняется на выбранный язык
    Смена языка не влияет на прогресс выполнения задания или состояние игры
    Переключение работает корректно и без ошибок

- summary: |
    Проверка возможности создать игру после авторизации
  requirement: |
    Пользователь должен иметь возможность создавать игру
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Пользователь не авторизован и не зарегистрирован
  test-data: |
    Game Type = With bot
    Difficulty = Easy
    Language = Java
  steps:
    - Нажать кнопку "Create Game"
    - Выбрать уровень сложности (Level)
    - Выбрать тип игры (например, With a bot)
    - Выбрать время матча (Time control)
    - Нажать "Create battle"
  expected-result: |
    Игра успешно создается
    Пользователь попадает в интерфейс игры

- summary: |
    Проверка возможности присоединиться к открытой игре
  requirement: |
    Пользователь должен иметь возможность участвовать в игре
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Пользователь авторизован и не зарегистрирован
    Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
    empty
  steps:
    - На главной странице найти раздел Lobby
    - Найти доступную игру из списка
    - Справа нажать кнопку "Fight"
  expected-result: |
    Пользователь подключается к игре и попадает в интерфейс с редактором кода

- summary: |
    Проверка возможности пользователя присоединиться к турниру
  requirement: |
    Пользователь должен иметь возможность участвовать в турнире
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Пользователь не авторизован и не зарегистрирован
  test-data: |
    empty
  steps:
    - Перейти в раздел "Tournaments"
    - Выбрать турнир из списка
    - Кликнуть на турнир
    - Проверить что пользователь находиться в интерфейсе турнира
    - Справа вверху нажать на кнопку "+Join"
    - Проверить что пользователь присоединился к турниру
  expected-result: |
    Пользователь добавляется в список участников турнира

- summary: |
    Успешное создание турнира с использованием всех доступных настроек
  requirement: |
    Пользователь должен иметь возможность создать турнир с настройкой всех параметров
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Пользователь не авторизован и не зарегистрирован
  test-data: |
    Name = My fancy tournament
    Type = individual
    Description = Some description
    Start date = 30/11/2025 13:29
    Access type = public
    Task strategy = random_per_game
    Score strategy = winn_loss
    Use chat = true (отмечен)
    Use timer = true (отмечен)
    Task provider = level
    Level = easy
    Event = (оставить пустым)
    Players limit = 64
    Match timeout seconds = 177
    Break duration seconds = 42
  steps:
    - Перейти в раздел "Tournaments"
    - Нажать "You may want to create one"
    - Проскрулить вниз список турниров до "Create a new tournament"
    - Заполнить поле "Name" значением "My fancy tournament"
    - "Выбрать Type: individual"
    - Заполнить поле "Description" с Markdown-ссылкой
    - "Установить дату начала: 15/04/2025 13:29"
    - "Установить Access type: public"
    - "Установить Task strategy: random_per_game"
    - "Установить Score strategy: winn_loss"
    - Отметить чекбоксы "Use chat" и "Use timer"
    - "Выбрать Task provider: level и Level: easy"
    - Оставить поле Event пустым
    - Ввести "64" в Players limit
    - Ввести "177" в Match timeout seconds
    - Ввести "42" в Break duration seconds
    - Нажать кнопку "Create"
  expected-result: |
    Турнир успешно создаётся
    Отображается в списке активных турниров с введёнными параметрами

- summary: |
    Проверка, что на главной странице отображается число пользователей онлайн
  requirement: |
    На сайте должно отображаться количество участников онлайн
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Пользователь не авторизован и не зарегистрирован
  test-data: |
    empty
  steps:
    - В шапке справа главной страницы должны отображаться игроки Online
  expected-result: |
    Отображается надпись вида "число игровков Online"

- summary: |
    Проверка отправки сообщений в общий чат авторизованным пользователем
  requirement: |
    Авторизованный пользователь должен иметь возможность отправлять сообщения в чат
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Пользователь авторизован
    Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
    Сообщение = "Hello Guys!"
  steps:
    - Найти поле ввода сообщения
    - Ввести текст "Hello Guys!"
    - Нажать "Send"
  expected-result: |
    Сообщение появляется в общем чате
    C именем пользователя и временем отправки

- summary: |
    Проверка возможности удаления сообщения пользователя из чата
  requirement: |
    Авторизованный пользователь должен иметь возможность удалять сообщения из чата
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Пользователь авторизован
    Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
    Сообщение = "Hello Guys!"
  steps:
    - Найти поле ввода сообщения
    - Ввести текст "Hello Guys!"
    - Нажать "Send"
    - Навести курскор на сообщение в чате и кликнуть
    - Должно появиться окно
    - Нажать "Delete"
  expected-result: |
    Сообщение удалено из общего чата

- summary: |
    Проверка защиты сайта протоколом HTTPS
  requirement: |
    Все соединения должны использовать защищённый протокол HTTPS
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
    URL https://codebattle.hexlet.io/
  steps:
    - Проверить наличие значка 🔒 в браузере
    - Открыть DevTools -> вкладка Security
    - Убедитесь что страница защищена HTTPS, TLS1.2 и TLS1.3
    - Ввести в строке мануально http://codebattle.hexlet.io/
    - Нажать Enter
    - Проверить что браузер переводит URL в https://
  expected-result: |
    Продукт защищен протоколом HTTPS

- summary: |
    Проверка защиты от XSS
  requirement: |
    Все соединения продукта должны быть защищены от XSS
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
    Вредоносный скрипт: <script>alert('XSS');</script>  
    Вредоносный URL: https://codebattle.hexlet.io/?q=<script>alert('XSS')</script>
  steps:
    - Вводим XSS скрипт <script>alert('XSS');</script> в строку чата на главной странице
    - Нажимаем Send
    - Проверяем что введенный скрипт отображается в результатах поиска как обычный текст
    - Проверяем что не выпадает никаких всплывающих окон
    - Проверяем текст и вносим вредоносное XSS прямо в браузер URL адреса
    - Вводим URL https://codebattle.hexlet.io/?q=<script>alert('XSS')</script>
    - Нажимаем Enter
    - Проверяем что не выпадает никаких всплывающих окон
    - Перезагружаем сайт
    - Еще раз проверяем что нет всплывающих окон
  expected-result: |
    В поиске текст "<script>alert('XSS');</script>" отображается как обычный текст, без выполнения кода
    В консоли браузера нет ошибок, связанных с выполнением XSS-кода

- summary: |
    Проверка защиты от SQL-инъекций
  requirement: |
    Все соединения продукта должны быть защищены от SQL-инъекций
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
    SQL-запрос ' OR 1=1 - 
    SQL-запрос '; DROP TABLE users; --
  steps:
    - Вводим SQL-запрос ' OR 1=1 -  в строку чата на главной странице
    - Проверяем что введенный SQL запрос отображается в результатах поиска как обычный текст
    - Проверяем что поиск не возвращает все товары при вводе SQL запроса
    - Проверяем что не выпадает никаких всплывающих окон
    - Вводим SQL-запрос в URL https://codebattle.hexlet.io/'; DROP TABLE users; --
    - Проверить что не выводится никаких ошибок сервера (сайт не падал)
    - Проверяем что-бы сайт оставался стабильным без изменений в работе системы
  expected-result: |
    SQL-инъекция не выполняется
    Фильтрация товаров работает корректно
    Консоль браузера не показывает ошибок

- summary: |
    Проверка автоматического выхода после удаления куки (истечение сессии)
  requirement: |
    После удаления сессионных куков пользователь должен быть разлогинен
  prerequisites: |
    Пользователь авторизован
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Открыты DevTools (F12)
  test-data: |
    empty
  steps:
    - Открыть вкладку "Application" -> "Cookies"
    - Нажать правой кнопкой мыши (clear)
    - Отчищаем все cookies для домена codebattle.hexlet.io
    - Обновить страницу (F5)
  expected-result: |
    Пользователь автоматически выходит из системы
    Пользователь перенаправляется на страницу авторизации

- summary: |
    Проверка, что пароль не отображается в адресной строке браузера
  requirement: |
    Личные данные не должны передаваться через URL
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта форма входа "Sing in" URL - https://codebattle.hexlet.io/session/new?locale=en&next=%2F
  test-data: |
    Email = johnjohnson@hotmail.com
    Password = badjonh@0011
  steps:
    - Ввести email и пароль
    - Нажать "Submit"
    - Посмотреть адресную строку
  expected-result: |
    В URL нет данных Email и пароля

- summary: |
    Проверка подтверждения email после регистрации
  requirement: |
    Пользователь должен подтвердить свой email, чтобы завершить регистрацию
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта форма регистрации "Sing UP" URL - https://codebattle.hexlet.io/users/new?locale=en&next=%2F
    Доступ к тестовому почтовому ящику johnjohnson@hotmail.com
  test-data: |
    Email = johnjohnson@hotmail.com
    Password = badjonh@0011
  steps:
    - Перейти на страницу регистрации
    - Ввести NickName - John_Johnson
    - Ввести email и пароль
    - Отправить форму регистрации "Submit"
    - Открыть почтовый ящик
    - Перейти по ссылке из письма для подтверждения регистрации
  expected-result: |
    Учетная запись активируется
    Пользователь может войти в систему

- summary: |
    Проверка, что сайт визуально загружается не дольше 3 секунд
  requirement: |
    Сайт должен быть оптимизирован для высокой скорости загрузки и отклика
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Устройство подключено к стабильному интернету
  test-data: |
    URL: https://codebattle.hexlet.io/
  steps:
    - Открыть DevTools (F12)
    - Перейти на вкладку "Network"
    - Отметить флажок "Disable cache"
    - Убедиться, что в поле Throttling выбрано "No throttling"
    - Обновить страницу (Ctrl+R)
    - Наблюдать за метками внизу вкладки (Load, DOMContentLoaded)
    - Зафиксировать общее время загрузки страницы в секундах
  expected-result: |
    Вкладка Network показывает общее время загрузки страницы менее 3000 мс (3 секунд)

- summary: |
    Проверка скорости загрузки и производительности сайта
  requirement: |
    Сайт должен быть оптимизирован для высокой скорости загрузки и отклика
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Подключение к стабильному интернету
    Открыт DevTools (F12)
  test-data: |
    empty
  steps:
    - Перейти на вкладку Lighthouse в DevTools
    - Убедиться, что включён пункт "Navigation(Default)"
    - Убедиться, что выбран режим "Desktop"
    - Убедиться, что включён пункт "Performance"
    - Нажать кнопку "Analyze page load"
    - Дождаться окончания анализа и получить метрики
  expected-result: |
    Общая производительность Performance Score в Lighthouse находится в зелёной зоне (90–100)

- summary: |
    Проверка, что сайт корректно отображается и функционирует на различных видах устройств
  requirement: |
    Сайт должен быть адаптивным и корректно работать на различных разрешениях экрана
  prerequisites: |
    Открыт браузер (Chrome, Firefox, Edge и др.)
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Открыт DevTools (F12)
    Включён режим эмуляции устройств (Ctrl+Shift+M)
  test-data: |
    iPhone 12 (390×844 пикселей)
    Samsung Galaxy S20 (412×915 пикселей)
    iPad Mini (768×1024 пикселей)
    Surface Duo (540×720 пикселей - двойной экран)
    Pixel 5 (393×851 пикселей)
  steps:
    - Обновить страницу (Ctrl+R)
    - Проверить что правильно отображается логотип и шапка сайта
    - Проверить что кнопки "Sign in" и "Sign up" видны и не налезают друг на друга
    - Проверить что блок "Create Game" не выходит за пределы экрана
    - Проверить отсутствие горизонтального скролла
    - Проверить что масштаб страницы соответствует устройству
    - Проверить что кнопки не мелкие и легко нажимаются
    - Повторить проверку для всех устройств из списка
  expected-result: |
    Интерфейс отображается без искажений и скролла по горизонтали
    Все элементы читаемы и не перекрываются
    Навигация и управление удобны для пальцев
    Масштаб страницы и адаптация работают корректно

- summary: |
    Проверка на совместимоть с последними версиями браузеров
  requirement: |
    Пользователь должен иметь возможность развертывать продукт на последний версиях браузеров
  prerequisites: |
    Открыт браузер 
    Открыта главная страница сайта https://codebattle.hexlet.io/
    DevTools (F12)
    Пользователь авторизован и зарегистрирован
  test-data: |
    Google Chrome (движок Blink) - последняя версия
    Mozilla Firefox (движок Gecko) - последняя версия
    Safari (движок WebKit) - последняя версия
    Microsoft Edge (движок Blink) - последняя версия
  steps:
    - Проверить отображение главной страницы (логотип, меню, кнопки)
    - Перейти в раздел "Create Game" или аналогичный функциональный раздел
    - Взаимодействовать с формами (выбор уровня, языка)
    - Открыть профиль
    - Проверить работоспособность всех кнопок, выпадающих списков, полей ввода
    - Проверить отсутствие ошибок в консоли (DevTools → Console)
    - Повторить проверку на всех тестируемых браузерах
  expected-result: |
    Сайт и все его разделы корректно отображаются и функционируют на тестируемых версиях браузеров

- summary: |
    Проверка устойчивости сайта при высокой нагрузке (1000 последовательных запросов)
  requirement: |
    Сайт должен устойчиво работать при высокой нагрузке (1000 одновременных пользователей)
  prerequisites: |
    - Установлен Postman
    - Создан GET-запрос к URL: https://codebattle.hexlet.io/
    - Запрос добавлен в коллекцию "Codebattle Load Testing"
  test-data: |
    GET https://codebattle.hexlet.io/
  steps:
    - Перейти в раздел Collections -> Codebattle Load Testing
    - Нажать "Run Collection"
    - "Установить Iterations: 1000"
    - "Установить Delay: 1 мс"
    - Запустить выполнение (Run)
    - Дождаться окончания выполнения всех запросов
    - Проверить статус-коды ответов
    - Зафиксировать время отклика
  expected-result: |
    Все 1000 запросов завершаются успешно (200 OK)
    Ошибки типа 429, 500, 503 отсутствуют
    Среднее время отклика не превышает 500 мс

- summary: |
    Проверка отображения рейтинга и статистики пользователя в шапке главной страницы после входа
  requirement: |
    Пользователь должен видеть свой рейтинг и статистику после авторизации
  prerequisites: |
    Пользователь зарегистрирован и авторизован
    Открыта главная страница сайта URL https://codebattle.hexlet.io/
  test-data: |
    empty
  steps:
    - Проверить шапку сайта (верхнюю часть главной страницы)
    - Проверить что Nickname пользователя соответствует зарегистрированному
    - Проверить что иконка ранга и числовое значение на месте
    - Проверить что иконка рейтинга и числовое значение на месте
  expected-result: |
    Все значения соответствуют данным из профиля и обновляются в реальном времени

- summary: |
    Проверка, что пользователь может просматривать рейтинг и профиль других игроков
  requirement: |
    Пользователь должен иметь возможность просматривать профили и рейтинги других игроков
  prerequisites: |
    Пользователь зарегистрирован и авторизован
    Открыта главная страница сайта URL https://codebattle.hexlet.io/
  test-data: |
    empty
  steps:
    - Убедиться что список игр откыт во вкладке Lobby
    - Навести курсор на ник игрока в списке игр
    - Убедиться что появиться всплывающее окно с данными игрока
    - Убедиться, что видно nickname игрока
    - Убедиться, что видно количество побед (Won)
    - Убедиться, что видно поражений (Lost)
    - Убедиться, что видно колличество сдачь (GaveUp)
    - Убедиться, что видно текущий рейтинг (иконка шкалы)
    - Убедиться, что видно текущий ранг (цифровое значение)
    - Повторить для другого игрока из блока LEADERBOARD справа
  expected-result: |
    При наведении на ник игрока отображается вся необходимая информация о нём
    Карточка содержит имя, рейтинг, ранг, победы, поражения 
    Страница не вызывает ошибок и данные соответствуют карточке

- summary: |
    Проверка, что пользователь может смотреть матч других игроков в реальном времени
  requirement: |
    Пользователь должен иметь возможность смотреть за матчем других игроков
  prerequisites: |
    Пользователь зарегистрирован и авторизован
    Открыта главная страница сайта URL https://codebattle.hexlet.io/
    В лобби отображается как минимум один активный матч
  test-data: |
    empty
  steps:
    - Найти в таблице лобби активный матч между двумя игроками
    - Навести курсор на игру
    - Нажать кнопку "Show" (если доступна)
    - Убедиться, что происходит переход на экран игры
    - Проверить, что отображается окно кода первого и второго игрока
    - В левой верхней форме отображается название и описание задания
    - Вверку таймер матча
    - Справа вверху чат игры
    - Убедиться, что все элементы обновляются в реальном времени (движение кода, таймер)
  expected-result: |
    Пользователь переходит на экран текущего матча
    Интерфейс отображает код обоих игроков
    Можно в реальном времени наблюдать за прогрессом
    Страница открвается корректно и не выдаёт ошибок

- summary: |
    Проверка, что пользователь может вызвать другого игрока на матч из списка онлайн игроков
  requirement: |
    Пользователь должен иметь возможность вызвать другого игрока на матч
  prerequisites: |
    Пользователь зарегистрирован и авторизован
    Открыта главная страница сайта URL https://codebattle.hexlet.io/
  test-data: |
    empty
  steps:
    - Убедиться, что в блоке "Online players" есть другие пользователи
    - Кликнуть по иконке "перекрещённые мечи" (вызов на дуэль)
    - Провериться что в открывшемся всплывающем окне выбрать любого игрока из списка
    - Кликнуть по имени игрока
    - В открывшемся всплывающем окне настроик игры нажать "Create invite"
    - Проверить что в  шапке сайта, иконка "перекрещённые мечи" подсветиться красной цифрой 1
  expected-result: |
    Открывается окно выбора игрока
    Пользователь может кликнуть на имя другого игрока
    Игроку отправляется приглашение на матч
    В шапке сайта тображается подтверждение отправки приглашения

- summary: |
    Проверка, что пользователь может досрочно прекратить игру или перезапустить её
  requirement: |
    Пользователь должен иметь возможность прекратить игру досрочно или перезагрузить матч
  prerequisites: |
    Пользователь зарегистрирован и авторизован
    Открыта главная страница сайта URL https://codebattle.hexlet.io/
    Создан новый матч "Create a Game"
  test-data: |
    empty
  steps:
    - Находим возле кнопки "Run" справа есть кнопка с тремя вертикальными точками
    - Кликнуть на неё
    - Проверить что появляется всплывающеее окно опций с кнопками "Reset solution" и "Give up"
    - Нажать на кнопку "Reset solution"
    - Убедиться, что редактор кода перезапускается с исходным шаблоном
    - Затем нажать кнопку “Give up” и подтвердить (Give up)
    - Убедиться, что игра завершается досрочно и появляется всплывающее окно с анимацией
  expected-result: |
    Пользователь может сдаться и выйти из игры до завершения
    Пользователь может перезагрузить игру
    Нет ошибок или зависаний при использовании этих функций

- summary: |
    Проверка возможности смены темы редактора тёмная/светлая во время матча
  requirement: |
    Пользователь должен иметь возможность смены темы во время матча на "светлая" или "тёмная"
  prerequisites: |
    Пользователь зарегистрирован и авторизован
    Открыта главная страница сайта URL https://codebattle.hexlet.io/
    Создан новый матч "Create a Game"
  test-data: |
    empty
  steps:
    - Начать игру и перейти к редактору кода
    - Убедиться, что используется тёмная тема (чёрный фон редактора)
    - Нажать на иконку "солце" справа от кнопки "Vim"
    - Убедиться, что тема изменилась на светлую (белый фон редактора)
    - Повторно нажать на иконку — убедиться, что тема снова переключается на тёмную
  expected-result: |
    При нажатии на иконку темы оформление интерфейса мгновенно переключается
    Изменение темы не влияет на текущее состояние игры
    Переключение происходит корректно и без ошибок

- summary: |
    Проверка возможности возврата на главную страницу по нажатию одной кнопкой
  requirement: |
    Пользователь должен иметь возможность вернуться на главную страницу из любого режима, включая матч
  prerequisites: |
    Пользователь зарегистрирован и авторизован
    Открыта главная страница сайта URL https://codebattle.hexlet.io/
    Создан новый матч "Create a Game"
  test-data: |
    empty
  steps:
    - Убедиться, что пользователь находится в активной игре
    - В шапке сайта слева найти логотип "Hexlet Codebattle"
    - Кликнуть на логотип
    - Убедиться что пользователь перенаправлен на главную страницу сайта
  expected-result: |
    Пользователь перенаправлен на главную страницу сайта
    Главная страница загружается корректно и отображается список игр

